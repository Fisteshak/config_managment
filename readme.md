# ДЗ по конфигурационному управлению
## Задание 1

### Описание
Эмулятор для языка оболочки ОС, похож на сеанс bash в Linux. Имеет свой GUI. Рядом с программой находится файл config.json, в котором указаны путь до стартового скрипта и .tar архив с файловой системой.

### Функции
- Выполнение команд: ls, cd, exit, uname, cat, rmdir
    - ls - вывод список файлов и каталогов в текущем каталоге
    - cd DIR - изменяет текущий каталог на указанный
    - exit - завершает работу программы
    - uname - выводит имя операционной системы
    - rmdir DIR - удаляет указанный каталог  
- Исполнение стартового скрипта при запуске эмулятора.
- exit сохраняет файловую систему обратно в архив.

### Запуск проекта

```bash
git clone https://github.com/Fisteshak/config_managment
cd config_managment
python task1/main.py
```
### Пример использования
![](/images/image1-2.png)

### Тестирование
![](/images/tests1.png)

## Задание 2

### Описание
Визуализатор графа зависимостей для пакетов python, включая транзитивные зависимости. Граф генерируется в представлении mermaid и отображается в графическом виде. 

### Параметры
Параметры задаются следующими ключами командной строки:
- --output - путь к файлу-результату
- --package - имя пакета для анализа
- --max-depth - максимальная глубина анализа
- --vis-path - путь к программе для визуализации графов. Рекомендуется использовать vis.py, входящий в состав репозитория.
- --repository - путь к репозиторию

### Запуск проекта

```bash
git clone https://github.com/Fisteshak/config_managment
cd config_managment/task2
python ./main.py --output OUTPUT --package PACKAGE [--max-depth MAX_DEPTH] [--repository REPOSITORY] [--vis-path VIS_PATH]
```
### Пример использования
![](/images/image2-1.png)

![](/images/image2-3.png)

![](/images/image2-2.png)

### Тестирование
![](/images/tests2.png)

## Задание 3

### Описание
Инструмент командной строки для учебного конфигурационного языка. Преобразует файл формата TOML в файл учебного конфигурационного языка. Синтаксические ошибки выявляются с выдачей сообщений.

Входной текст на языке toml принимается из стандартного ввода. Выходной текст на учебном конфигурационном языке попадает в файл, путь к которому задан ключом командной строки.

### Запуск проекта

```bash
git clone https://github.com/Fisteshak/config_managment
cd config_managment/task3
python ./main.py OUTPUT_PATH
```

### Примеры использования

Конфигурация сервера

![](/images/3-1in.png)

![](/images/3-1out.png)

Конфигурация приложения

![](/images/3-2in.png)

![](/images/3-2out.png)

Вычисление значений

![](/images/3-3in.png)

![](/images/3-3res.png)

### Тестирование

![](/images/tests3.png)

## Задание 4
### Описание 
Ассемблер и интерпретатор для учебной виртуальной машины (УВМ). Система команд УВМ представлена далее. 
Ассемблер принимает на вход файл с текстом исходной программы, путь к которой задается из командной строки. Результатом работы ассемблера является бинарный файл в виде последовательности байт, путь к которому задается из командной строки. Дополнительный ключ командной строки задает путь к файлу-логу, в котором хранятся ассемблированные инструкции в формате csv.
Интерпретатор принимает на вход бинарный файл, выполняет команды УВМ и сохраняет в csv файле-результате значения из диапазона памяти УВМ.


### Запуск проекта
```bash
git clone https://github.com/Fisteshak/config_managment
cd config_managment/task4
python asm.py PROGRAM BINARY [--log LOG_FILE]
python intr.py BINARY RESULT_FILE MEM_START MEM_END
```

### Описание команд
#### Загрузка константы
|A|B|
|-|-|
|Биты 0-3|Биты 4-18|
|15|Константа|

Размер команды: 4 байт. Операнд: поле B. Результат: регистр-аккумулятор.

Тест (A=15, B=68):

0x4F, 0x04, 0x00, 0x00

#### Чтение значения из памяти
|A|
|-|
|Биты 0-3|
|3|

Размер команды: 4 байт. Операнд: значение в памяти по адресу, которым является регистр-аккумулятор. Результат: регистр-аккумулятор.

Тест (A=3):

0x03, 0x00, 0x00, 0x00

#### Запись значения в память
|A|B|
|-|-|
|Биты 0-3|Биты 4-26|
|3|Адрес|

Размер команды: 4 байт. Операнд: регистр-аккумулятор. Результат: значение в памяти по адресу, которым является поле B.

Тест (A=4, B=632):

0x84, 0x27, 0x00, 0x00

#### Запись значения в память
|A|B|
|-|-|
|Биты 0-6|Биты 4-26|
|3|Адрес|

Размер команды: 4 байт. Операнд: регистр-аккумулятор. Результат: значение в памяти по адресу, которым является поле B.

Тест (A=6, B=381):

0xD6, 0x17, 0x00, 0x00


### Пример работы
Тестовая программа: Выполнить поэлементно операцию popcnt() над вектором длины 5. Результат записать в исходный вектор.
```
LOAD_CONST 1
WRITE_MEM 10
LOAD_CONST 10
WRITE_MEM 11
LOAD_CONST 29
WRITE_MEM 12
LOAD_CONST 13
WRITE_MEM 13
LOAD_CONST 1000
WRITE_MEM 14
LOAD_CONST 10
READ_MEM
POP_CNT 10
LOAD_CONST 11
READ_MEM
POP_CNT 11
LOAD_CONST 12
READ_MEM
POP_CNT 12
LOAD_CONST 13
READ_MEM
POP_CNT 13
LOAD_CONST 14
READ_MEM
POP_CNT 14
```

Лог-файл:
```
Command,Hex Value,Binary
LOAD_CONST,"0x1F, 0x00, 0x00, 0x00"
WRITE_MEM,"0xA4, 0x00, 0x00, 0x00"
LOAD_CONST,"0xAF, 0x00, 0x00, 0x00"
WRITE_MEM,"0xB4, 0x00, 0x00, 0x00"
LOAD_CONST,"0xDF, 0x01, 0x00, 0x00"
WRITE_MEM,"0xC4, 0x00, 0x00, 0x00"
LOAD_CONST,"0xDF, 0x00, 0x00, 0x00"
WRITE_MEM,"0xD4, 0x00, 0x00, 0x00"
LOAD_CONST,"0x8F, 0x3E, 0x00, 0x00"
WRITE_MEM,"0xE4, 0x00, 0x00, 0x00"
LOAD_CONST,"0xAF, 0x00, 0x00, 0x00"
READ_MEM,"0x03, 0x00, 0x00, 0x00"
POP_CNT,"0xA6, 0x00, 0x00, 0x00"
LOAD_CONST,"0xBF, 0x00, 0x00, 0x00"
READ_MEM,"0x03, 0x00, 0x00, 0x00"
POP_CNT,"0xB6, 0x00, 0x00, 0x00"
LOAD_CONST,"0xCF, 0x00, 0x00, 0x00"
READ_MEM,"0x03, 0x00, 0x00, 0x00"
POP_CNT,"0xC6, 0x00, 0x00, 0x00"
LOAD_CONST,"0xDF, 0x00, 0x00, 0x00"
READ_MEM,"0x03, 0x00, 0x00, 0x00"
POP_CNT,"0xD6, 0x00, 0x00, 0x00"
LOAD_CONST,"0xEF, 0x00, 0x00, 0x00"
READ_MEM,"0x03, 0x00, 0x00, 0x00"
POP_CNT,"0xE6, 0x00, 0x00, 0x00"
```

Выходной csv файл:
```
Register,Value
ax,1000

Address,Value
10,1
11,10
12,29
13,13
14,1000
```

### Тестирование
Ассемблер

![](/images/tests4-1.png)

Интерпретатор

![](/images/tests4-2.png)


